<?php
require_once 'Controller/Controller.php';

session_start();

$c = new Controller();
try {
	$c->createEvent($_POST['event_name']);
	$name = InputValidator::validate_input($event_name, $event_date, $starttime, $endtime);
	$_SESSION["errorEventName"] = "";
	
	$c->createEvent($_POST['event_date']); 
	$date = date('YYYY-MM-DD', strtotime($event_date));
		
	$c->createEvent($_POST['starttime']);
	$start = date('HH:MM', strtotime($starttime));
	
	$c->createEvent($_POST['endtime']);
	$end = date('H:i', strtotime($endtime));
		
	if (strtotime($event_date)== false) {
	$_SESSION["errorEventDate"] = "";
	} if (strtotime($starttime)== false) {
	$_SESSION["errorStartTime"] = "";
	} if (strtotime($endtime)== false) {
	$_SESSION["errorEndTime"] = "";
	}	
} catch (Exception $e) {
	$_SESSION["errorEventName"] = $e->getMessage();
	$_SESSION["errorEventDate"] = $e->getMessage();
	$_SESSION["errorStartTime"] = $e->getMessage();
	$_SESSION["errorEndTime"] = $e->getMessage();
}
?>

<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="refresh" content="0; url=/EventRegistration/" />
	</head>
</html>